language: python
python:
- '3.6'
sudo: false
script:
- coverage run --branch -m unittest
- coverage xml --fail-under=100
- python-codacy-coverage -r coverage.xml
deploy:
  provider: pypi
  user: fniessink
  password:
    secure: DZuKIhj4Wi1zj9yqkQsrRX47jTKboQypD3HF7LLwhv2v2Ras3qgro9MMsquJESS/K8q2WW6reBB9O7XrSAbNtLA+TfjBH6CuiL+0JxoaT69yOzdAPgNs5cyb/Ltg/sReZgjDcRiw5eZeKIs3lsrPLilOd3pH7UoReg1v6VaLmE/Da7c6nh/xUU/WFiOYFIVTX+/dX45ba7yPysQV3rRyPrW6fQ9qefjJFtFJ+mysz0KQcaNFs/934giVPfp6fRsY8WXXjm3tHb1YJGFERjfNuKJM0PofrtLOmW006rb5HxzgarI7CUc6s0aPf+5O67qThoNWYOghvcTpmoBlfcPcfuxDn9LwRAevB844scfhC9IdXWVlmZWLM/sKCNxT9BUwIjp/rNn+TUX7aQYTCrYUWkgkMbWzeuQVtVGY2p0zcwL/WZsF0vwOc/hj8yN6041WFUGj/sMldkc7soDxcaKF3+C5FfsSJxR0TpesUMmyyKyQ72x+woxz7ksRa8dyPkCs8gWaTX0V/nzwBOymA+OFTAqOKTys7B6qywchS1Yz/l8crJTWmrRJOcMEK/OPmdN1SmjS8W8W+7Z0WpL7F3znzn0a5cHs8O4PhxD/zbBl7pwARtqDHlynyplt/ZSfHtfl9KD6TGgE8igiOj+2IJt3BKMeDqrwmm8HICyWfXBdH/o=
  on:
    tags: true
